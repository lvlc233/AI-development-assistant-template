<p align="center">
  <a href="README.md">English</a> | <strong>中文</strong>
</p>

# 补充:
如果你想要轻量化的快捷的开发，请使用light，如果想要强大的版本控制，请使用full。(个人推荐light)，git版本补充中。

# AI 开发助手模板

一个释放开发助手 Agent 潜力的管理模板，专注于提升可读性和代码质量，灵感来自规范驱动开发和 Skill。

# 前言
我们现在经常使用AI编程工具，例如cursor、claude code、antigravity...有很多，尽管它们十分的有趣，我们可以让它们去做一些重复性的，且没有意义的任务上，提高我们的开发效率;我们也可以利用这些助手很快的学习到一些技术内容;有时候，它们会甚至提出一些不错的意见。

但...大部分的时候，它们总是令我们感到差强人意的不是吗?

这是为什么呢? 这里里面有很多的原因，例如LLM本身的能力不足，IDE中糟糕的上下文管理与无法控制，内嵌工具/MCP Service的不足 还有我们用户的指令不明确等...

所以这就是为什么要有这个项目，我将尝试中的一年的AI开发经验和哲学中，总结出一些方法论，以此提高我们的开发体验。

# 如何使用
1. git clone下来这个项目
2. 打开TOOLS/PROMPT，将GLOBAL_AGENT_PROMPT放入规则中。
3. 按照AGENT_TEMPLATE模板创建您的带有角色的Agent并放入Agent的系统提示词中。
4. 创建您的项目规格文档
5. 安装TOOLS/MCP中的mcp servcie。(可选，并建议)

6. 我提供了一个项目的案例，您可以参考使用。
7. 在完成了上述的准备工作后，您可以输入"确认自身,确保你已充分Agent的约束条件和项目开发规范"来确保您的Agent能正确进行项目的构建。

# 工作原理
1. 首先在全局规则中GLOBAL_AGENT_PROMPT，定义好了Agent的基础约束，以确保它可以了解如何基于该模板的理念进行项目开发
2. 为您的Agent定义好它的角色，它便可以自动的在安全的工作环境中进行项目的构建。
3. 参考Claude Skill，为3大模块提供了README.md+yaml头描述，以确保在项目的进行中，Agent可以时时刻刻的记住它们的存在。(基于提供的MCP实现)。当然这并不是必要的，实际上在GLOBAL_AGENT_PROMPT已经规定得十分清楚了。如果您是Token用户，那么我推荐您手动的改下GLOBAL_AGENT_PROMPT让Agent完全基于MCP获取这些信息(移除GLOBAL_AGENT_PROMPT中对于3大模块的描述，并补充从MCP中获取即可。 )。
4. 开始您的工作。

5. 尽管这不是必要的，但是推荐您在每个项目模块中都构建一个README.md+yaml头描述，利用提供的MCP能力，让您的Agent始终保持对项目的了解。参考案例。

# 未来计划

1. 接收数据反馈，进行迭代优化。
2. 根据不同的场景，推出更加专门化的模板，以精准解决不同场景下的问题。
3. 考虑将其作为一个应用，提供方便的cmd脚本，以简化使用流程。
4. 已补充全项目的英文文档支持。
...


# 一些概念(您可以了解了解)
两条思想:
1. 从Agent的视角去思考，它们所能看到的上下文情况是如何，注意上下文飘移现象，保持每个Agent能以最干净且保持最核心的上下文信息。
2. 请不要从软件工程师的视角去对待您的AI IDE(CLI)，而是从架构师的视角，想象您操作的一个巨大的办公室，而不是一台电脑。

## 1. 上下文
### 项目上下文
项目的上下文是管理项目，并使项目能够保持在一个稳定的范围中，这也是所有的Agent，进行项目级别的开发时候的依照准则。它包括以下的内容。
1. 规格文档(重要): 我建议您亲自创建这样子的一个规格文档，该规格文档要求您从一个系统架构师的角度去管理您的整个项目，其中包括但不限于
- 开发风格
- 开发工具
- 环境
- 基础的资源
- 技术选取
- 版本控制
- ...
```md
# 规格文档

## 介绍
项目将采用 领域驱动开发...
## 环境
- python: 3.11+
- langgchain: 1.0.0+
- uv:环境
## 资源
- sql: 
## 开发规范
1. 必须线程安全
2. 异步环境
3. 禁止直接查询而不是使用分页查询。
4. 注意密钥安全等问题
5. 每个重要的函数和变量都必须要使用中文进行注释
6. 拟定的函数都必须使用 TODO标记
7. ....
```
2. 任务指标: 您可以理解为Agent中的todo，但是todo的内容由您亲自构建，而不是由Agent自行构建一些可能并没有必要的todo。您也可以附加相关的评测标准和开发条件。
```md
# 任务指标
1. 完成前端项目技术调研 []
    创建时间: 2025-12-30 9:00
    完成时间: ...
    负责人: 美工Agent
2. 完成后端项目技术调研 [√]
    创建时间: 2025-12-30 9:00
    完成时间: 2025-12-30 12:00
    负责人: 后端Agent
    备注: 已确定后端技术栈，并已将相关资料存放的 document/backend.md中
3. 进行业务场景分析 [×]
    创建时间: 2025-12-30 10:00
    完成时间: 2025-12-30 12 :00
    负责人: 人
    备注: 发现存在大量业务场景不明确的内容，需要更加详细的计划安排。
4. 创建sql [...]
...
```
3. 项目记录: 也就是记录这个项目发生了什么事情，包括但不限制于
- 主项目的提交历史记录
- 开发者反馈
- 交互记录
- 解决方案
- 代办事项
- ...
4. 代码备注，让Agent写入代码的时候一定要写清楚每个模块的作用和功能，并列出一份清单表明功能和模块关系。
### Agent记忆上下文
也就是Agent的记忆能力，一般来说，我们可以创建一个文件夹，来表示Agent的记忆。当然，我们也可以封装一个MCP来提供跨项目的记忆功能。是的，在这里的记忆更加强调的是跨项目能力。为了解决的问题是，当我们重启一个会话，或者去到一个新的项目中，我们不得不让Agent重新走一边阅读，理解，记忆的流程。但如果将思路逆转，不是项目提供Agent的记忆，而是Agent自带记忆，那么事情就会好玩许多，这意味着我们更加强调Agent的成长性。
1. Agent 操作记录: 记录Agent的所有操作
```log.2025-12-30
# Backend Agent
2025-12-30 9:00 | 我被要求进行后端项目的调研，
2025-12-30 9:00 | 我使用了web工具搜索了主题为xxx的资源，试图找到一些资源
...
```
2. Agent 注意力筛选记忆: 这是一个相对抽象的概念，简单来说，这里存储的就是Agent的理解，包括其对工具的理解，对项目的理解是Agent的长期记忆和思维。是Agent记忆中最重要的部分。是控制Agent行为的输出风格的重要部分。
...


3. 人工介入记忆
### Agent运行时上下文
这个就普通的上下文或者说是提示词，个人给出推荐是:
1. 指令集: Agent可以做到的能力边界，用于表达Agent的可以做什么，不可以做什么
2. 知识库: 约束Agent的领域，类似于..角色扮演。而非传统的给他一推知识，而是告诉它，它需要知道什么内容
3. 系统级别提示词: 一般就是做修正的补丁了。

没啥好说的，大部分的IDE/CLI，不能直接的管理上下文。

## 2. 安全

想象一下，如果您一个项目负责人，在您的团队中所有人都对着main/master 主分支直接开发和提交，这将有多么的糟糕。同理对于Agent也是，哪怕您是一个单Agent使用者，想象下您们开发的时候如果也不做项目管理，那也仍然很糟糕。我相信大家都吐槽过IDE/CLI 总是修改我的代码，这种"天性"似乎无法克制，当然这主要是指令识别的问题，我们可以通过优化指令或设置权限的方式控制，但是我们为什么不顺应这种"天性"呢?

### 沙盒环境

这里的沙盒环境是一个抽象表示，他可以是一个真正的沙盒环境，也可以是一个简单的文件夹，它表示的是一个可以让Agent独立进行代码编写的区域，您可以想象下每个沙盒就是一个员工的电脑，它们可以在其中自由的创作，而不会影响主要的核心的，可以运行的代码，您可以为每个Agent都创建独立的SHANDBOX，并将记忆存放在SHANBOX环境中(如果您打算使用文件系统作为您的记忆系统的话)

### 代码审核

就像是在公司的项目中，并非所有的上交的代码都可以直接的合并到主分支中，往往我们会考虑到代码风格，功能点确认，是否有破坏性等角度对提交的代码进行审核并将审核结果告知给开发人员，在必要的时候提供一些建议，来辅助它进行开发。
所以，让Agent将代码 "提交" 到一个指定的区域，并进行审核，或许您可以创建一个Agent专门用于初级审核。

### 版本控制
版本控制要求Agent/人类写代码的时候要引入一个版本。为了解决人机交互/MAS交互时候，由于Agent的上下文中仍然存储的是旧版数据，在进行代码写入的时候产生的代码覆盖问题。在Agent写入代码的时候比较版本头，Agent拿到的总是最新的数据。
```python
"""
    writer: agent,human
    last writer: agent
    version: 15da1551d
    updata: 2025-12-30 9:00
"""
def web_search(top:str):
    ...
    pass

```


## 3. 其他
### Git Hub

您可以基于Git来实现上述的思想。我想那会是不错的选择。

### Agent to MCP

对于Agent开发者来说。

您肯定知道可以将您的Agent封装为一个MCP Service以让其他的Agent任务这种操作。您可以大胆的尝试将您的Agent MCP也部署到您的AI IDE(CLI)中，以提高您的Agent复用率，以此来逐渐减少您的重复任务。

此外，您可以将私有化记忆的思路结合到您开发的Agent中，使其能够在不同的场景中，可以使用那些被它们认为是安全且有效的方案。









